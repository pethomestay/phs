= simple_form_for @booking, html: { class: 'form-horizontal' } do |f|
  = f.input :guest_name, input_html: { value: current_user.name }
  = f.input :pet_name
  = f.input :message, as: :text, input_html: { rows: 3 }

  %hr
  - booking_editable = @booking.editable_datetime?(current_user)
  - date_class = booking_editable ? 'datepicker' : ''
  - time_class = booking_editable ? 'timepicker' : ''
  = f.input :check_in_date, as: :date_picker, wrapper_html: { class: "input-append #{date_class}" }, readonly: true, input_html: { value: @booking.check_in_date.strftime("%d/%m/%Y") }
  = f.input :check_in_time, as: :time_picker, wrapper_html: { class: "input-append #{time_class}" }, readonly: true, input_html: { value: @booking.check_in_time.strftime("%H:%M") }
  %br
  = f.input :check_out_date, as: :date_picker, wrapper_html: { class: "input-append #{date_class}" }, readonly: true, input_html: { value: @booking.check_out_date.strftime("%d/%m/%Y") }
  = f.input :check_out_time, as: :time_picker, wrapper_html: { class: "input-append #{time_class}" }, readonly: true, input_html: { value: @booking.check_out_time.strftime("%H:%M") }
  = f.input :number_of_nights, readonly: true

  %hr
  - wrapper_class = "input-prepend input-append"
  = f.input :cost_per_night, as: :currency, wrapper_html: { class: wrapper_class }, label: 'Rate per night', readonly: true
  %br
  = f.input :subtotal, as: :currency, wrapper_html: { class: wrapper_class }, readonly: true
  %br
  = f.input :fees, as: :currency, wrapper_html: { class: wrapper_class }, input_html: { value: TRANSACTION_FEE }, readonly: true
  %br
  = f.input :amount, as: :currency, wrapper_html: { class: wrapper_class }, label: 'Total', readonly: true

  - if @booking.host_view?(current_user)
    %hr
    .control-group.string
      %label.string.control-label
        Payment method
    = f.input :payment, input_html: { value: 'Credit Card' }, readonly: true

    %hr
    = f.input :response_id, required: true, as: :radio_buttons, label_method: :description, checked: 5,
                    collection: ReferenceData::Response.find_by_ids([5, 6, 7])
    = f.input :response_message, input_html: {rows: 5, class: 'input-xxlarge'}, placeholder: "If you respond 'Have questions' a question is required to explain to the pet owner what you mean. For 'available' or 'unavailable' answers you can also provide a message if you wish to give the pet owner more information. Responding 'No' or 'maybe' will end this enquiry and the pet owner will have to enquire again to get your details and confirm a booking."

    .form-actions
      = f.submit 'Send Response', class: 'btn btn-primary'
